# Принцип наименьших привилегий
### Лабораторная работа #3

[[презентация 1]](https://www.dropbox.com/s/hwzyvp12a8vpfhk/%D0%9B%D0%B0%D0%B1%D0%BE%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BD%D0%B0%D1%8F%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%203.pptx?dl=0) [[репозиторий]](https://github.com/Andrew414/leastprivilegestask)

## Принцип наименьших привилегий
Приложение (компоненты приложения) запускаются с **наименьшими** возможными привилегиями, **необходимыми** для работы. Это позволяет обезопасить компьютер от атак, так как даже в случае их совершения ущерб не распространится дальше ограничений, наложенных на приложение

## Условие 1
Необходимо написать приложение, состоящее из двух компонентов - **логгер** и **интерфейс**.

### Логгер
**Логгер** должен запускаться *без* прав администратора независимо от **интерфейса**. Он может работать как сервис (запускаться автоматически при старте системы) или просто быть отдельным независимым приложением.

**Логгер** должен периодически сохранять информацию в **журнал** (**лог**).
* Информацию о состоянии сетевых адаптеров
  * Какие адаптеры включены, какие выключены, по каким невозможно извлечь информацию и т.д.
* Информацию о своем состоянии
  * Работает ли **логгер**, были ли какие-то ошибки и т.д.

### Интерфейс
**Интерфейс** должен также запускаться *без* прав администратора и иметь следующие возможности:
* Предоставлять информацию о состоянии сетевых адаптеров
  * Информация может быть взята из **лога** или запрошена у **логгера** любыми методами interprocess communication.
  * **Интерфейс** должен показывать не только текущее состояние, но и состояние в прошедшие моменты времени. Должна быть возможность, к примеру, увидеть состояние адаптеров 10 минут назад, 1 час назад и т.д.
* Предоставлять информацию о состоянии **логгера**
  * Аналогично, информация может быть взята из **лога** или запрошена непосредственно у **логгера**, кроме того **интерфейс** должен показывать состояние в любой прошедший момент времени.
* Предоставлять возможность включать и выключать сетевые адаптеры
  * Поскольку для включения и выключения адаптеров требуются права администратора, **интерфейс** должен их запрашивать, но только на короткий момент времени. Так как невозможно получить права администратора без создания нового процесса, **интерфейс** должен создавать новый процесс с запросом прав администратора (`ShellExecute` + `runas` в Windows, `sudo` в Unix).

## Дополнительные требования
Программа должна быть написана с использованием общепринятого [**стандарта**](https://ru.wikipedia.org/wiki/Стандарт_оформления_кода). Если для выбранного языка есть один такой стандарт, используйте его, иначе выберите любой для своего языка программирования и укажите в комментариях к Pull Request, какой именно стандарт выбран.

## Дополнительные задания
Три задачи:
* Предусмотреть быстрый доступ к **интерфейсу**. Возможные примеры организации быстрого доступа к приложению:
  * системный трей
  * контекстное меню файлового менеджера
  * виджет на рабочем столе
  * другое
* Реализовать приложение в соответствии с рекомендациями по совместимости (лекции 8-10)
  * Действия, требущие прав администратора, должны быть обозначены в GUI иконкой со щитом (в Windows) или другой схожей иконкой (в Unix) ![ ](https://i.snag.gy/dXZPIf.jpg)
  * Временные файлы (включая, возможно, **лог**) должны находиться в специальных местах в файловой системе
  * Настройки также должны находиться в стандартных местах (в реестре и на диске)
* Реализовать в интерфейсе возможность просмотра сохраненного **лога** без запуска **логгера**
  * Аналогичным образом реализованы приложения [Process Monitor](https://docs.microsoft.com/en-us/sysinternals/downloads/procmon) и [Wireshark](https://www.wireshark.org/download.html) - могут работать, отображая текущие события в ОС, в этом случае запускается компонент, который записывает все события в файл; либо могут работать, просто показывая сохраненную заранее сессию.

## Репозиторий
[Репозиторий](https://github.com/Andrew414/leastprivilegestask) содержит главную страницу [`README.md`](https://github.com/Andrew414/leastprivilegestask/blob/master/README.md) и девять персональных каталогов. Необходимо сделать копию (fork) репозитория и вносить все изменения только в свой персональный каталог. Все эти каталоги содержат пустой файл `.gitignore`, куда нужно вписать все временные файлы из лабораторной работы. Остальные файлы должны быть файлами кода (в т.ч. проекта).

## Сдача лабораторной работы
Можно выбрать любую распространенную ОС (включая мобильные), язык программирования, IDE и фреймворки/библиотеки. Если для работы нужны какие-то нестандартные конфигурации или ПО, предоставьте инструкцию по настройке среды.

Сдача через **Pull Request** из вашего клонированного репозитория. Pull Request должен содержать код, файлы проекта и информационные файлы. Результаты сборок и временные файлы должны быть исключены из коммитов.

## Оценка
Максимум за лабораторную работу - **10 баллов**.
- **4 балла** за главную задачу
- **3 балла**, если работа сделана вовремя
- **1 балл** за реализацию _быстрого доступа_ к **интефейсу**
- **1 балл** за реализацию приложения в соответствии с _рекомендациями по совместимости_
- **1 балл** за реализацию возможности открыть _заранее сохраненный_ **лог**

## Сроки
На выполнение лабораторной дается 4 недели (24 октября - 21 ноября). Лабораторная работа считается принятой, когда Pull Request переходит в состояние "approved". Дни, в течение которых лабораторная была на проверке, не учитываются.
![ ](https://i.snag.gy/lPOzf7.jpg)

Например, если вы сдаете лабораторную через две недели после выдачи (7 ноября), но комментарии даны только через неделю (14 ноября), у вас все еще будет две недели на устранение недочетов, все дни после коммита до получения ревью не считаются.

### Желаю удачи!
